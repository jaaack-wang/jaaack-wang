<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{{ page.title }} — {{ site.title }}</title>
  <link rel="stylesheet" href="/assets/css/main.css">
  <noscript>
    <link rel="stylesheet" href="/assets/css/noscript.css" />
  </noscript>

  {%- assign title = page.title | escape -%}
  {%- assign desc = page.excerpt | default: site.description | strip_html | strip_newlines | truncate: 200 -%}
  {%- assign url = page.url | absolute_url -%}
  {%- assign image = page.image | default: site.social_image | default: "/assets/images/site/og-default.jpg" |
  absolute_url -%}

  <meta property="og:type" content="article">
  <meta property="og:title" content="{{ title }}">
  <meta property="og:description" content="{{ desc }}">
  <meta property="og:url" content="{{ url }}">
  <meta property="og:image" content="{{ image }}">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="{{ title }}">
  <meta name="twitter:description" content="{{ desc }}">
  <meta name="twitter:image" content="{{ image }}">
  <link rel="canonical" href="{{ url }}">

</head>

<body class="is-preload">
  <span id="logo" style="display:none;">Zhengxiang Wang</span>

  <div id="wrapper">
    <section class="wrapper style1 fade-up">
      <div class="inner post-wrapper">
        <h1>{{ page.title }}</h1>

        {%- comment -%}
        GitHub Pages-safe translation detection:
        - Supports translated: true / "true"
        - Supports is_translation: true / "true"
        Avoid calling downcase on booleans.
        {%- endcomment -%}
        {%- assign __translated_raw = page.translated | default: page.is_translation | default: false -%}
        {%- assign __translated_json = __translated_raw | jsonify -%}
        {%- assign __is_translated = false -%}
        {%- if __translated_raw == true or __translated_json == '"true"' or __translated_json == 'true' -%}
        {%- assign __is_translated = true -%}
        {%- endif -%}

        {%- comment -%}
        Language helper (treat zh-CN / zh etc as Chinese)
        {%- endcomment -%}
        {%- assign __lang = page.lang | default: "en" -%}
        {%- assign __lang_s = __lang | append: "" -%}
        {%- assign __is_zh = false -%}
        {%- if __lang_s contains "zh" -%}
        {%- assign __is_zh = true -%}
        {%- endif -%}

        {% assign sib = site.posts | where: "pair_id", page.pair_id | where_exp: "p", "p.lang != page.lang" | first %}

        {% if sib %}
        <p class="archive-tags-link">
          {% if __is_zh %}
          <a href="{{ sib.url | relative_url }}">English →</a>
          {% else %}
          <a href="{{ sib.url | relative_url }}">中文 →</a>
          {% endif %}
        </p>
        {% endif %}

        {%- assign __human_date = nil -%}
        {%- if page.display_date -%}
        {%- assign __human_date = page.display_date -%}
        {%- elsif page.approx_date -%}
        {%- assign parts = page.approx_date | split: "-" -%}
        {%- assign y = parts[0] -%}
        {%- assign m_raw = parts[1] -%}
        {%- assign m = m_raw | plus: 0 -%}
        {%- assign months = "Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec" | split: "," -%}
        {%- assign m_index = m | minus: 1 -%}
        {%- assign __human_date = months[m_index] | append: " " | append: y -%}
        {%- elsif page.year and page.month and page.day == nil -%}
        {%- assign m = page.month | plus: 0 -%}
        {%- assign months = "Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec" | split: "," -%}
        {%- assign m_index = m | minus: 1 -%}
        {%- assign __human_date = months[m_index] | append: " " | append: page.year -%}
        {%- endif -%}

        <p class="post-meta">
          {%- if __human_date -%}
          {{ __human_date }}
          {%- else -%}
          {{ page.date | date: "%b %-d, %Y" }}
          {%- endif -%}
          {% if page.tags and page.tags.size > 0 %}
          · {{ page.tags | join: ", " }}
          {% endif %}
        </p>

        {%- comment -%}
        Disclaimer only on translated posts.
        {%- endcomment -%}
        {% if __is_translated %}
        {% if __is_zh %}
        <p class="post-disclaimer">
          免责声明：本文译文由 GPT-5.2 翻译生成，原文为英文。
        </p>
        {% else %}
        <p class="post-disclaimer">
          Disclaimer: This post was originally written in Chinese and translated into English by GPT-5.2.
        </p>
        {% endif %}
        {% endif %}

        {{ content }}

        {%- comment -%}
        Navigation:
        Use simple, GitHub Pages-safe pools.
        - If translated: pool = posts where translated/is_translation is true
        - Else: pool = posts where both flags are not true
        {%- endcomment -%}

        {%- assign __pool = site.posts | where: "lang", page.lang -%}
        {%- assign __pool_filtered = "" | split: "" -%}

        {%- for p in __pool -%}
        {%- assign _raw = p.translated | default: p.is_translation | default: false -%}
        {%- assign _json = _raw | jsonify -%}
        {%- assign _is_t = false -%}
        {%- if _raw == true or _json == '"true"' or _json == 'true' -%}
        {%- assign _is_t = true -%}
        {%- endif -%}

        {%- if __is_translated and _is_t -%}
        {%- assign __pool_filtered = __pool_filtered | push: p -%}
        {%- elsif __is_translated == false and _is_t == false -%}
        {%- assign __pool_filtered = __pool_filtered | push: p -%}
        {%- endif -%}
        {%- endfor -%}

        {%- assign __pool_sorted = __pool_filtered | sort: "date" | reverse -%}

        {%- assign __prev = nil -%}
        {%- assign __next = nil -%}
        {%- for p in __pool_sorted -%}
        {%- if p.url == page.url -%}
        {%- assign __idx = forloop.index0 -%}
        {%- if __idx > 0 -%}
        {%- assign __prev_i = __idx | minus: 1 -%}
        {%- assign __prev = __pool_sorted[__prev_i] -%}
        {%- endif -%}
        {%- assign __next_i = __idx | plus: 1 -%}
        {%- if __next_i < __pool_sorted.size -%} {%- assign __next=__pool_sorted[__next_i] -%} {%- endif -%} {%- break
          -%} {%- endif -%} {%- endfor -%} <nav class="post-nav" aria-label="Post">
          {% if __prev %}
          <a class="post-nav-link prev" href="{{ __prev.url | relative_url }}" rel="prev">
            ← Previous: {{ __prev.title }}
          </a>
          {% endif %}

          {% if __next %}
          <a class="post-nav-link next" href="{{ __next.url | relative_url }}" rel="next">
            Next: {{ __next.title }} →
          </a>
          {% endif %}
          </nav>

          <div class="share-bar">
            <span>Share:</span>
            <a class="share x"
              href="https://twitter.com/intent/tweet?url={{ page.url | absolute_url | uri_escape }}&text={{ page.title | uri_escape }}"
              target="_blank" rel="noopener">X</a>
            <a class="share li"
              href="https://www.linkedin.com/sharing/share-offsite/?url={{ page.url | absolute_url | uri_escape }}"
              target="_blank" rel="noopener">LinkedIn</a>
            <a class="share fb"
              href="https://www.facebook.com/sharer/sharer.php?u={{ page.url | absolute_url | uri_escape }}"
              target="_blank" rel="noopener">Facebook</a>
            <a class="share rd"
              href="https://www.reddit.com/submit?url={{ page.url | absolute_url | uri_escape }}&title={{ page.title | uri_escape }}"
              target="_blank" rel="noopener">Reddit</a>
            <a class="share em"
              href="mailto:?subject={{ page.title | uri_escape }}&body={{ page.url | absolute_url | uri_escape }}">Email</a>
          </div>

          <div id="comments" class="post-comments">
            <h3>Comments</h3>

            <script src="https://giscus.app/client.js" data-repo="jaaack-wang/jaaack-wang" data-repo-id="R_kgDOGO-aLw"
              data-category="Announcements" data-category-id="DIC_kwDOGO-aL84Cw1ix" data-mapping="url" data-strict="0"
              data-reactions-enabled="1" data-emit-metadata="0" data-input-position="bottom" data-theme="light"
              data-lang="en" crossorigin="anonymous" async>
              </script>

            <noscript>Please enable JavaScript to view the comments.</noscript>
          </div>

          <p class="post-footer">
            <a href="/">← Back to Home</a>
          </p>
      </div>
    </section>
  </div>

  <script src="/assets/js/jquery.min.js"></script>
  <script src="/assets/js/browser.min.js"></script>
  <script src="/assets/js/breakpoints.min.js"></script>
  <script src="/assets/js/util.js"></script>
  <script src="/assets/js/main.js"></script>
</body>

</html>
