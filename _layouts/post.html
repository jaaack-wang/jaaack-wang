<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{{ page.title }} — {{ site.title }}</title>
  <link rel="stylesheet" href="/assets/css/main.css">
  <noscript>
    <link rel="stylesheet" href="/assets/css/noscript.css" />
  </noscript>

  {%- assign title = page.title | escape -%}
  {%- assign desc = page.excerpt | default: site.description | strip_html | strip_newlines | truncate: 200 -%}
  {%- assign url = page.url | absolute_url -%}
  {%- assign image = page.image | default: site.social_image | default: "/assets/images/site/og-default.jpg" |
  absolute_url -%}

  <meta property="og:type" content="article">
  <meta property="og:title" content="{{ title }}">
  <meta property="og:description" content="{{ desc }}">
  <meta property="og:url" content="{{ url }}">
  <meta property="og:image" content="{{ image }}">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="{{ title }}">
  <meta name="twitter:description" content="{{ desc }}">
  <meta name="twitter:image" content="{{ image }}">
  <link rel="canonical" href="{{ url }}">

  <style>
    :root {
      --accent: #41b883;
      --text: #333;
      --light-gray: #888;
    }

    body {
      font-size: 1.1rem;
      line-height: 1.7;
      color: var(--text);
    }

    /* Top spacing */
    .post-wrapper {
      max-width: 850px;
      margin: 6rem auto 4rem;
      /* Adds space at top */
      padding: 0 1rem;
    }

    /* Title */
    .post-wrapper h1 {
      color: var(--accent);
      font-size: 2.2rem;
      font-weight: 800;
      margin-bottom: 0.75rem;
      border-bottom: 3px solid var(--accent);
      display: inline-block;
      padding-bottom: 0.3rem;
    }

    /* Meta line */
    .post-meta {
      color: var(--light-gray);
      font-size: 1rem;
      margin-bottom: 1.25rem;
    }

    /* Disclaimer */
    .post-disclaimer {
      margin: 0 0 1.5rem;
      padding: .65rem .85rem;
      border-left: 4px solid #e6e6e6;
      background: #fafafa;
      color: #666;
      font-size: .98rem;
    }

    /* Paragraphs */
    .post-wrapper p {
      margin-bottom: 1.5rem;
      font-size: 1.1rem;
    }

    /* Links */
    a {
      color: var(--accent);
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    /* Images */
    .post-wrapper img {
      display: block;
      margin: 2rem auto;
      border-radius: 6px;
      max-width: 100%;
      height: auto;
      box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);
    }

    /* Footer nav */
    .post-footer {
      margin-top: 3rem;
      font-size: 1rem;
    }

    .post-footer a {
      color: var(--accent);
      font-weight: 500;
    }

    .post-nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 1rem;
      margin-top: 2.5rem;
      padding-top: 1.25rem;
      border-top: 1px solid #e6e6e6;
    }

    .post-nav-link {
      display: inline-block;
      text-decoration: none;
      color: #41b883;
      font-weight: 600;
      line-height: 1.4;
    }

    .post-nav-link:hover {
      text-decoration: underline;
    }

    /* Stack nicely on small screens */
    @media (max-width: 640px) {
      .post-nav {
        flex-direction: column;
        align-items: flex-start;
      }

      .post-nav .next {
        align-self: flex-end;
      }
    }

    .share-bar {
      margin-top: 1.75rem;
      padding-top: 1rem;
      border-top: 1px solid #e6e6e6;
      display: flex;
      flex-wrap: wrap;
      gap: .6rem;
      align-items: center;
    }

    .share-bar span {
      color: #666;
      margin-right: .25rem;
    }

    .share-bar .share {
      display: inline-block;
      padding: .35rem .6rem;
      border-radius: 5px;
      background: #f4f4f4;
      text-decoration: none;
      font-weight: 600;
    }

    .share-bar .share:hover {
      text-decoration: underline;
    }

    .share-bar .x {
      color: #111;
    }

    .share-bar .li {
      color: #0a66c2;
    }

    .share-bar .fb {
      color: #1877f2;
    }

    .share-bar .rd {
      color: #ff4500;
    }

    .share-bar .em {
      color: #41b883;
    }

    .post-comments {
      margin-top: 2rem;
    }

    .post-comments h3 {
      color: #41b883;
      border-bottom: 2px solid #41b883;
      display: inline-block;
      padding-bottom: .25rem;
    }

    .post-tags a {
      margin-right: .35rem;
      text-decoration: none;
      color: #41b883;
      font-weight: 600
    }
  </style>
</head>

<body class="is-preload">
  <span id="logo" style="display:none;">Zhengxiang Wang</span>

  <div id="wrapper">
    <section class="wrapper style1 fade-up">
      <div class="inner post-wrapper">
        <h1>{{ page.title }}</h1>

        {%- comment -%}
        Normalize translation flag robustly across:
        translated: true / "true"
        is_translation: true / "true"
        {%- endcomment -%}
        {%- assign __translated_raw = page.translated | default: page.is_translation | default: false -%}
        {%- assign __translated_str = __translated_raw | append: "" | downcase -%}
        {%- assign __is_translated = __translated_str == "true" -%}

        {%- comment -%}
        Optional: normalize language for zh vs zh-CN etc.
        {%- endcomment -%}
        {%- assign __lang = page.lang | default: "en" -%}
        {%- assign __is_zh = __lang contains "zh" -%}

        {% assign sib = site.posts | where: "pair_id", page.pair_id | where_exp: "p", "p.lang != page.lang" | first %}

        {% if sib %}
        <p class="archive-tags-link">
          {% if __is_zh %}
          <a href="{{ sib.url | relative_url }}">English →</a>
          {% else %}
          <a href="{{ sib.url | relative_url }}">中文 →</a>
          {% endif %}
        </p>
        {% endif %}

        {%- comment -%}
        Flexible date display:
        - If page.display_date is set, show it.
        - Else if page.approx_date: "YYYY-MM" → "Month YYYY".
        - Else if year/month fields provided (and no day), show "Month YYYY".
        - Else fall back to full page.date.
        {%- endcomment -%}
        {%- assign __human_date = nil -%}
        {%- if page.display_date -%}
        {%- assign __human_date = page.display_date -%}
        {%- elsif page.approx_date -%}
        {%- assign parts = page.approx_date | split: "-" -%}
        {%- assign y = parts[0] -%}
        {%- assign m_raw = parts[1] -%}
        {%- assign m = m_raw | plus: 0 -%}
        {%- assign months = "Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec" | split: "," -%}
        {%- assign m_index = m | minus: 1 -%}
        {%- assign __human_date = months[m_index] | append: " " | append: y -%}
        {%- elsif page.year and page.month and page.day == nil -%}
        {%- assign m = page.month | plus: 0 -%}
        {%- assign months = "Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec" | split: "," -%}
        {%- assign m_index = m | minus: 1 -%}
        {%- assign __human_date = months[m_index] | append: " " | append: page.year -%}
        {%- endif -%}

        <p class="post-meta">
          {%- if __human_date -%}
          {{ __human_date }}
          {%- else -%}
          {{ page.date | date: "%b %-d, %Y" }}
          {%- endif -%}
          {% if page.tags and page.tags.size > 0 %}
          · {{ page.tags | join: ", " }}
          {% endif %}
        </p>

        {%- comment -%}
        Disclaimer only on translated posts:
        Supports translated: true and is_translation: true (and string forms).
        {%- endcomment -%}
        {% if __is_translated %}
        {% if __is_zh %}
        <p class="post-disclaimer">
          免责声明：本文译文由 GPT-5.2 翻译生成，原文为英文。
        </p>
        {% else %}
        <p class="post-disclaimer">
          Disclaimer: This post was originally written in Chinese and translated into English by GPT-5.2.
        </p>
        {% endif %}
        {% endif %}

        {{ content }}

        {%- comment -%}
        Scoped navigation:
        - If translated: navigate only among translated posts of same lang
        - Else: navigate only among original posts (not translated) of same lang
        Robustly detects translated flag as above.
        {%- endcomment -%}

        {%- if __is_translated -%}
        {%- assign __pool = site.posts
        | where: "lang", page.lang
        | where_exp: "p", "((p.translated | default: p.is_translation | default: false) == true) or ((p.translated |
        default: p.is_translation | default: '' | append: '' | downcase) == 'true')"
        -%}
        {%- else -%}
        {%- assign __pool = site.posts
        | where: "lang", page.lang
        | where_exp: "p", "not (((p.translated | default: p.is_translation | default: false) == true) or ((p.translated
        | default: p.is_translation | default: '' | append: '' | downcase) == 'true'))"
        -%}
        {%- endif -%}

        {%- assign __pool_sorted = __pool | sort: "date" | reverse -%}

        {%- assign __prev = nil -%}
        {%- assign __next = nil -%}
        {%- for p in __pool_sorted -%}
        {%- if p.url == page.url -%}
        {%- assign __idx = forloop.index0 -%}
        {%- if __idx > 0 -%}
        {%- assign __prev_i = __idx | minus: 1 -%}
        {%- assign __prev = __pool_sorted[__prev_i] -%}
        {%- endif -%}
        {%- assign __next_i = __idx | plus: 1 -%}
        {%- if __next_i < __pool_sorted.size -%} {%- assign __next=__pool_sorted[__next_i] -%} {%- endif -%} {%- break
          -%} {%- endif -%} {%- endfor -%} <nav class="post-nav" aria-label="Post">
          {% if __prev %}
          <a class="post-nav-link prev" href="{{ __prev.url | relative_url }}" rel="prev">
            ← Previous: {{ __prev.title }}
          </a>
          {% endif %}

          {% if __next %}
          <a class="post-nav-link next" href="{{ __next.url | relative_url }}" rel="next">
            Next: {{ __next.title }} →
          </a>
          {% endif %}
          </nav>

          <div class="share-bar">
            <span>Share:</span>
            <a class="share x"
              href="https://twitter.com/intent/tweet?url={{ page.url | absolute_url | uri_escape }}&text={{ page.title | uri_escape }}"
              target="_blank" rel="noopener">X</a>
            <a class="share li"
              href="https://www.linkedin.com/sharing/share-offsite/?url={{ page.url | absolute_url | uri_escape }}"
              target="_blank" rel="noopener">LinkedIn</a>
            <a class="share fb"
              href="https://www.facebook.com/sharer/sharer.php?u={{ page.url | absolute_url | uri_escape }}"
              target="_blank" rel="noopener">Facebook</a>
            <a class="share rd"
              href="https://www.reddit.com/submit?url={{ page.url | absolute_url | uri_escape }}&title={{ page.title | uri_escape }}"
              target="_blank" rel="noopener">Reddit</a>
            <a class="share em"
              href="mailto:?subject={{ page.title | uri_escape }}&body={{ page.url | absolute_url | uri_escape }}">Email</a>
          </div>

          <div id="comments" class="post-comments">
            <h3 style="margin-top:2rem">Comments</h3>

            <script src="https://giscus.app/client.js" data-repo="jaaack-wang/jaaack-wang" data-repo-id="R_kgDOGO-aLw"
              data-category="Announcements" data-category-id="DIC_kwDOGO-aL84Cw1ix" data-mapping="url" data-strict="0"
              data-reactions-enabled="1" data-emit-metadata="0" data-input-position="bottom" data-theme="light"
              data-lang="en" crossorigin="anonymous" async>
              </script>

            <noscript>Please enable JavaScript to view the comments.</noscript>
          </div>

          <p class="post-footer">
            <a href="/">← Back to Home</a>
          </p>
      </div>
    </section>
  </div>

  <script src="/assets/js/jquery.min.js"></script>
  <script src="/assets/js/browser.min.js"></script>
  <script src="/assets/js/breakpoints.min.js"></script>
  <script src="/assets/js/util.js"></script>
  <script src="/assets/js/main.js"></script>
</body>

</html>